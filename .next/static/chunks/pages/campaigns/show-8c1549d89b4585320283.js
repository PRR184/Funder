(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[634],{41494:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return q}});var n=r(15861),a=r(15671),c=r(43144),s=r(60136),i=r(6215),o=r(61120),l=r(87757),d=r.n(l),u=r(67294),h=r(7082),p=r(65091),m=r(87462),f=r(86010),v=(r(45697),r(92063)),Z=r(28935),g=r(12519),y=r(4788);function x(e){var t=e.children,r=e.className,n=e.computer,a=e.color,c=e.floated,s=e.largeScreen,i=e.mobile,o=e.only,l=e.stretched,d=e.tablet,h=e.textAlign,p=e.verticalAlign,y=e.widescreen,k=e.width,b=(0,f.Z)(a,(0,v.lG)(l,"stretched"),(0,v.MR)(o,"only"),(0,v.X4)(h),(0,v.cD)(c,"floated"),(0,v.Ok)(p),(0,v.H0)(n,"wide computer"),(0,v.H0)(s,"wide large screen"),(0,v.H0)(i,"wide mobile"),(0,v.H0)(d,"wide tablet"),(0,v.H0)(y,"wide widescreen"),(0,v.H0)(k,"wide"),"column",r),w=(0,Z.Z)(x,e),N=(0,g.Z)(x,e);return u.createElement(N,(0,m.Z)({},w,{className:b}),t)}x.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],x.propTypes={},x.create=(0,y.u5)(x,(function(e){return{children:e}}));var k=x;function b(e){var t=e.centered,r=e.children,n=e.className,a=e.color,c=e.columns,s=e.divided,i=e.only,o=e.reversed,l=e.stretched,d=e.textAlign,h=e.verticalAlign,p=(0,f.Z)(a,(0,v.lG)(t,"centered"),(0,v.lG)(s,"divided"),(0,v.lG)(l,"stretched"),(0,v.MR)(i,"only"),(0,v.MR)(o,"reversed"),(0,v.X4)(d),(0,v.Ok)(h),(0,v.H0)(c,"column",!0),"row",n),y=(0,Z.Z)(b,e),x=(0,g.Z)(b,e);return u.createElement(x,(0,m.Z)({},y,{className:p}),r)}b.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],b.propTypes={};var w=b;function N(e){var t=e.celled,r=e.centered,n=e.children,a=e.className,c=e.columns,s=e.container,i=e.divided,o=e.doubling,l=e.inverted,d=e.padded,h=e.relaxed,p=e.reversed,y=e.stackable,x=e.stretched,k=e.textAlign,b=e.verticalAlign,w=(0,f.Z)("ui",(0,v.lG)(r,"centered"),(0,v.lG)(s,"container"),(0,v.lG)(o,"doubling"),(0,v.lG)(l,"inverted"),(0,v.lG)(y,"stackable"),(0,v.lG)(x,"stretched"),(0,v.sU)(t,"celled"),(0,v.sU)(i,"divided"),(0,v.sU)(d,"padded"),(0,v.sU)(h,"relaxed"),(0,v.MR)(p,"reversed"),(0,v.X4)(k),(0,v.Ok)(b),(0,v.H0)(c,"column",!0),"grid",a),C=(0,Z.Z)(N,e),A=(0,g.Z)(N,e);return u.createElement(A,(0,m.Z)({},C,{className:w}),n)}N.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],N.Column=k,N.Row=w,N.propTypes={};var C=N,A=r(73626),G=r(48237),E=r(61483),R=r(97326),j=r(4942),P=r(2037),K=r(60416),M=r(68788),T=r(66456),_=r(85893);function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}var H=function(e){(0,s.Z)(r,e);var t=S(r);function r(){var e;(0,a.Z)(this,r);for(var c=arguments.length,s=new Array(c),i=0;i<c;i++)s[i]=arguments[i];return e=t.call.apply(t,[this].concat(s)),(0,j.Z)((0,R.Z)(e),"state",{value:"",errorMessage:"",loading:!1}),(0,j.Z)((0,R.Z)(e),"onSubmit",function(){var t=(0,n.Z)(d().mark((function t(r){var n,a;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),e.setState({loading:!0,errorMessage:""}),n=(0,p.Z)(e.props.address),t.prev=3,t.next=6,E.Z.eth.getAccounts();case 6:return a=t.sent,t.next=9,n.methods.contribute().send({from:a[0],value:E.Z.utils.toWei(e.state.value,"ether")});case 9:T.Router.replaceRoute("/campaigns/".concat(e.props.address)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),e.setState({errorMessage:t.t0.message});case 15:e.setState({loading:!1,value:""});case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()),e}return(0,c.Z)(r,[{key:"render",value:function(){var e=this;return(0,_.jsxs)(P.Z,{onSubmit:this.onSubmit,error:!!this.state.errorMessage,children:[(0,_.jsxs)(P.Z.Field,{children:[(0,_.jsx)("label",{children:"Amount to contribute"}),(0,_.jsx)(K.Z,{label:"ether",labelPosition:"right",value:this.state.value,onChange:function(t){return e.setState({value:t.target.value})}})]}),(0,_.jsx)(M.Z,{error:!0,header:"Oops!",content:this.state.errorMessage}),(0,_.jsx)(G.Z,{primary:!0,loading:this.state.loading,children:"Contribute!"})]})}}]),r}(u.Component);function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,o.Z)(e);if(t){var a=(0,o.Z)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.Z)(this,r)}}var q=function(e){(0,s.Z)(r,e);var t=X(r);function r(){return(0,a.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"renderCards",value:function(){var e=this.props,t=e.minimumContribution,r=e.balance,n=e.requestCount,a=e.approversCount,c=[{header:e.manager,description:"The Manager created this campaign and can withdraw money",meta:"Address of Manager",style:{overflowWrap:"break-word"}},{header:t,description:"You must contribute atleast this much Wei to become a contributor",meta:"Minimum Contribution (Wei)"},{header:n,description:"A request is made to withdraw money from contract. Requests are approved by contributors.",meta:"Number of Requests"},{header:a,description:"Number of people who have already donated to this campaign.",meta:"Number of Approvers"},{header:E.Z.utils.fromWei(r,"ether"),description:"The Balance is ow much money the campaign has left to spend",meta:"Campaigns Balance (Ether)"}];return(0,_.jsx)(A.Z.Group,{items:c})}},{key:"render",value:function(){return(0,_.jsxs)(h.Z,{children:[(0,_.jsx)("h3",{children:"Campaign Show"}),(0,_.jsxs)(C,{children:[(0,_.jsxs)(C.Row,{children:[(0,_.jsx)(C.Column,{width:10,children:this.renderCards()}),(0,_.jsx)(C.Column,{width:6,children:(0,_.jsx)(H,{address:this.props.address})})]}),(0,_.jsx)(C.Row,{children:(0,_.jsx)(C.Column,{children:(0,_.jsx)(T.Link,{route:"/campaigns/".concat(this.props.address,"/requests"),children:(0,_.jsx)("a",{children:(0,_.jsx)(G.Z,{primary:!0,children:"View Requests"})})})})})]})]})}}],[{key:"getInitialProps",value:function(){var e=(0,n.Z)(d().mark((function e(t){var r,n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,p.Z)(t.query.address),e.next=3,r.methods.getSummary().call();case 3:return n=e.sent,console.log(n),e.abrupt("return",{address:t.query.address,minimumContribution:n[0],balance:n[1],requestCount:n[2],approversCount:n[3],manager:n[4]});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),r}(u.Component)},86374:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/campaigns/show",function(){return r(41494)}])},73626:function(e,t,r){"use strict";r.d(t,{Z:function(){return N}});var n=r(87462),a=r(94578),c=r(86010),s=(r(45697),r(67294)),i=r(92063),o=r(28935),l=r(12519),d=r(92248),u=r(68867),h=r(4788);function p(e){var t=e.children,r=e.className,a=e.content,u=e.textAlign,h=(0,c.Z)((0,i.X4)(u),"description",r),m=(0,o.Z)(p,e),f=(0,l.Z)(p,e);return s.createElement(f,(0,n.Z)({},m,{className:h}),d.kK(t)?a:t)}p.handledProps=["as","children","className","content","textAlign"],p.propTypes={};var m=p;function f(e){var t=e.children,r=e.className,a=e.content,u=e.textAlign,h=(0,c.Z)((0,i.X4)(u),"header",r),p=(0,o.Z)(f,e),m=(0,l.Z)(f,e);return s.createElement(m,(0,n.Z)({},p,{className:h}),d.kK(t)?a:t)}f.handledProps=["as","children","className","content","textAlign"],f.propTypes={};var v=f;function Z(e){var t=e.children,r=e.className,a=e.content,u=e.textAlign,h=(0,c.Z)((0,i.X4)(u),"meta",r),p=(0,o.Z)(Z,e),m=(0,l.Z)(Z,e);return s.createElement(m,(0,n.Z)({},p,{className:h}),d.kK(t)?a:t)}Z.handledProps=["as","children","className","content","textAlign"],Z.propTypes={};var g=Z;function y(e){var t=e.children,r=e.className,a=e.content,u=e.description,p=e.extra,f=e.header,Z=e.meta,x=e.textAlign,k=(0,c.Z)((0,i.lG)(p,"extra"),(0,i.X4)(x),"content",r),b=(0,o.Z)(y,e),w=(0,l.Z)(y,e);return d.kK(t)?d.kK(a)?s.createElement(w,(0,n.Z)({},b,{className:k}),(0,h.Go)(v,(function(e){return{content:e}}),f,{autoGenerateKey:!1}),(0,h.Go)(g,(function(e){return{content:e}}),Z,{autoGenerateKey:!1}),(0,h.Go)(m,(function(e){return{content:e}}),u,{autoGenerateKey:!1})):s.createElement(w,(0,n.Z)({},b,{className:k}),a):s.createElement(w,(0,n.Z)({},b,{className:k}),t)}y.handledProps=["as","children","className","content","description","extra","header","meta","textAlign"],y.propTypes={};var x=y,k=r(30335);function b(e){var t=e.centered,r=e.children,a=e.className,u=e.content,h=e.doubling,p=e.items,m=e.itemsPerRow,f=e.stackable,v=e.textAlign,Z=(0,c.Z)("ui",(0,i.lG)(t,"centered"),(0,i.lG)(h,"doubling"),(0,i.lG)(f,"stackable"),(0,i.X4)(v),(0,i.H0)(m),"cards",a),g=(0,o.Z)(b,e),y=(0,l.Z)(b,e);if(!d.kK(r))return s.createElement(y,(0,n.Z)({},g,{className:Z}),r);if(!d.kK(u))return s.createElement(y,(0,n.Z)({},g,{className:Z}),u);var x=(0,k.Z)(p,(function(e){var t,r=null!=(t=e.key)?t:[e.header,e.description].join("-");return s.createElement(N,(0,n.Z)({key:r},e))}));return s.createElement(y,(0,n.Z)({},g,{className:Z}),x)}b.handledProps=["as","centered","children","className","content","doubling","items","itemsPerRow","stackable","textAlign"],b.propTypes={};var w=b,N=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleClick=function(e){var r=t.props.onClick;r&&r(e,t.props)},t}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this.props,r=e.centered,a=e.children,h=e.className,p=e.color,m=e.content,f=e.description,v=e.extra,Z=e.fluid,g=e.header,y=e.href,k=e.image,b=e.link,w=e.meta,N=e.onClick,C=e.raised,A=(0,c.Z)("ui",p,(0,i.lG)(r,"centered"),(0,i.lG)(Z,"fluid"),(0,i.lG)(b,"link"),(0,i.lG)(C,"raised"),"card",h),G=(0,o.Z)(t,this.props),E=(0,l.Z)(t,this.props,(function(){if(N)return"a"}));return d.kK(a)?d.kK(m)?s.createElement(E,(0,n.Z)({},G,{className:A,href:y,onClick:this.handleClick}),u.Z.create(k,{autoGenerateKey:!1,defaultProps:{ui:!1,wrapped:!0}}),(f||g||w)&&s.createElement(x,{description:f,header:g,meta:w}),v&&s.createElement(x,{extra:!0},v)):s.createElement(E,(0,n.Z)({},G,{className:A,href:y,onClick:this.handleClick}),m):s.createElement(E,(0,n.Z)({},G,{className:A,href:y,onClick:this.handleClick}),a)},t}(s.Component);N.handledProps=["as","centered","children","className","color","content","description","extra","fluid","header","href","image","link","meta","onClick","raised"],N.propTypes={},N.Content=x,N.Description=m,N.Group=w,N.Header=v,N.Meta=g}},function(e){e.O(0,[774,933,83,64,682,888,179],(function(){return t=86374,e(e.s=t);var t}));var t=e.O();_N_E=t}]);